<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>nat/yama — under construction</title>

<style>
html, body {
  margin: 0;
  height: 200vh; /* scroll */
  background: rgb(238,243,250);
  transition: background-color 1s ease;
  font-family: serif;
}

.float-text {
  position: fixed;
  top: 3rem;
  left: 3rem;
  max-width: 60ch;
  font-size: 2.2rem;
  line-height: 1.5;
  transition: opacity 0.6s ease, filter 0.6s ease;
}

.studio-name {
  display: block;
  margin-bottom: 3rem;
  opacity: 0.5;
}

/* 言語は opacity だけで制御 */
.lang {
  opacity: 0;
  transition: opacity 0.6s ease;
}

.lang.active {
  opacity: 1;
}

.lang-labels {
  margin-top: 4rem;
  font-size: 12px;
  letter-spacing: 0.12em;
}

.lang-labels span {
  cursor: pointer;
  opacity: 0.4;
}

.lang-labels span:hover {
  opacity: 1;
}
</style>
</head>

<body>

<div class="float-text" id="floatText">
  <span class="studio-name">nat/yama — under construction</span>

  <p class="lang en active">
    crafts experiences<br>
    from complex ideas across media
  </p>

  <p class="lang ja">
    は文化や領域を横断し<br>
    思考を体験に組み立てます
  </p>

  <p class="lang de">
    gestaltet komplexe Ideen medienübergreifend<br>
    als erfahrbare Formate.
  </p>

  <div class="lang-labels">
    <span data-lang="en">EN</span> |
    <span data-lang="ja">JP</span> |
    <span data-lang="de">DE</span>
  </div>
</div>

<script>
const blocks = document.querySelectorAll('.lang');
const labels = document.querySelectorAll('.lang-labels span');
const floatText = document.getElementById('floatText');

const colors = {
  en: { bg: 'rgb(238,243,250)', fg: 'rgba(70,75,85,0.55)' },
  ja: { bg: 'rgb(246,241,231)', fg: 'rgba(80,70,60,0.55)' },
  de: { bg: 'rgb(250,250,250)', fg: 'rgba(90,90,90,0.5)' }
};

function showLang(lang) {
  blocks.forEach(b => b.classList.remove('active'));

  const active = document.querySelector('.lang.' + lang);
  if (!active) return;

  active.classList.add('active');
  active.style.color = colors[lang].fg;
  document.body.style.backgroundColor = colors[lang].bg;

  // dissolve reset
  floatText.style.opacity = 1;
  floatText.style.filter = 'blur(0px)';
}

// 初期言語
const initial =
  navigator.language.startsWith('ja') ? 'ja' :
  navigator.language.startsWith('de') ? 'de' : 'en';

showLang(initial);

// クリック切替
labels.forEach(label => {
  label.addEventListener('click', () => {
    showLang(label.dataset.lang);
  });
});

// スクロールでふわっと消える
window.addEventListener('scroll', () => {
  const t = Math.min(window.scrollY / 400, 1);
  floatText.style.opacity = 1 - t;
  floatText.style.filter = `blur(${t * 5}px)`;
});
</script>

</body>
</html>
